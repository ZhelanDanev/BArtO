{% extends 'common/base.html' %}
{% block content %}
    <div class="container mx-auto mt-6">
        <div class="bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-4">Chat with {{ other_user.username }}</h2>
            <div class="chat-box mb-4 h-96 overflow-y-scroll border border-gray-200 p-4 rounded-lg">
                <ul class="space-y-4">
                    {% for message in messages %}
                        <li class="flex flex-col">
                            <span class="font-semibold text-blue-500">{{ message.sender.username }}:</span>
                            <span class="text-gray-800">{{ message.content }}</span>
                            <span class="text-xs text-gray-500">{{ message.timestamp }}</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>

            <form method="post" class="flex flex-col space-y-2">
                {% csrf_token %}
                <textarea name="content" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Type your message..." rows="3"></textarea>
                <button type="submit" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none">Send</button>
            </form>
        </div>
    </div>
{% endblock %}
